soustraction final open cv.py
# -*- coding: utf-8 -*-
"""
Created on Sun Jan  8 21:39:19 2023

@author: qossay
"""
#Background subtraction using OpenCV
import numpy as np
import cv2
 
cap = cv2.VideoCapture('017.mp4')
fgbg = cv2.createBackgroundSubtractorMOG2()
 
while(1):
    ret, frame = cap.read()
 
    fgmask = fgbg.apply(frame)
  
    cv2.imshow('fgmask', fgmask)
    cv2.imshow('frame',frame )
 
     
    k = cv2.waitKey(30) & 0xff
    if k == 27:
        break
     
#Enregistrement du resultat   
cap.release()
cv2.destroyAllWindows()

#Enregistrement de la video
fourcc = cv.VideoWriter_fourcc('X','V','I','D')
videoWriter = cv.VideoWriter('test.avi', fourcc, 30.0, (640,480))
 
videoWriter.write(frame) 
videoWriter.release()
